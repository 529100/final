<!DOCTYPE html>
<html lang="zh-cn">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
<meta name="renderer" content="webkit">
<title>增加医生</title>
<link rel="stylesheet" href="/css/pintuer.css">
<link rel="stylesheet" href="/css/admin.css">
<script src="/js/jquery-3.7.1.min.js"></script>
<script src="/js/pintuer.js"></script>
</head>
<body onload="timeNow()">
<div class="panel admin-panel">
  <div class="panel-head" id="add"><strong><span class="icon-pencil-square-o"></span>增加内容</strong></div>
  <div class="body-content">
    <form method="post" class="form-x" action="/doc/save">
      <div class="form-group">
        <div class="label">
          <label>姓名：</label>
        </div>
        <div class="field">
          <input type="text" class="input w50" value="" name="docName" />
          <div class="tips"></div>
        </div>
      </div>
      <div class="form-group">
        <div class="label">
          <label>头像：</label>
        </div>
        <div class="field">
          <input type="file" id="url1" name="avatar" class="input tips" style="width:25%; float:left;"  value=""  data-toggle="hover" data-place="right" data-image="" />
<!--          <input type="button" class="button bg-blue margin-left" id="image1" value="+ 浏览上传"  style="float:left;">-->
          <div class="tipss">图片尺寸：500*500</div>
        </div>
      </div>
      <if condition="$iscid eq 1">
        <div class="form-group">
          <div class="label">
            <label>科室名称：</label>
          </div>
          <div class="field">
            <select name="deptId" class="input w50">
              <option value="-1">请选择科室</option>
            </select>
            <div class="tips"></div>
          </div>
        </div>
        <div class="form-group">
          <div class="label">
            <label>职称：</label>
          </div>
          <div class="field">
            <select name="proTitlesId" class="input w50">
              <option value="-1">请选择职称</option>
            </select>
            <div class="tips"></div>
          </div>
        </div>
        <!--<div class="form-group">
          <div class="label">
            <label>其他属性：</label>
          </div>
          <div class="field" style="padding-top:8px;"> 
            首页 <input id="ishome"  type="checkbox" />
            推荐 <input id="isvouch"  type="checkbox" />
            置顶 <input id="istop"  type="checkbox" /> 
         
          </div>
        </div>-->
        <div class="form-group">
          <div class="label">
            <label>入职日期：</label>
          </div>
          <div class="field">
            <input id="time" type="date" class="input w50" value="" name="entryDate"/>
            <div class="tips"></div>
          </div>
        </div>
      </if>
      <div class="form-group">
        <div class="label">
          <label>手机号：</label>
        </div>
        <div class="field">
          <input type="text" class="input w50" value="" name="phone" />
          <div class="tips"></div>
        </div>
      </div>
      <div class="form-group">
        <div class="label">
          <label>邮箱：</label>
        </div>
        <div class="field">
          <input type="text" class="input w50" value="" name="email" />
          <div class="tips"></div>
        </div>
      </div>
      <div class="form-group">
        <div class="label">
          <label>挂号费：</label>
        </div>
        <div class="field">
          <input type="text" class="input w50" value="" name="registrationFee" />
          <div class="tips"></div>
        </div>
      </div>
      <div class="form-group">
        <div class="label">
          <label>密码：</label>
        </div>
        <div class="field">
          <input type="text" class="input w50" value="" name="password" />
          <div class="tips"></div>
        </div>
      </div>
      <div class="form-group">
        <div class="label">
          <label>医生简介：</label>
        </div>
        <div class="field">
          <textarea class="input" name="introduction" style=" height:90px;"></textarea>
          <div class="tips"></div>
        </div>
      </div>
      <!--<div class="form-group">
        <div class="label">
          <label>内容：</label>
        </div>
        <div class="field">
          <textarea name="content" class="input" style="height:450px; border:1px solid #ddd;"></textarea>
          <div class="tips"></div>
        </div>
      </div>
     
      <div class="clear"></div>
      <div class="form-group">
        <div class="label">
          <label>关键字标题：</label>
        </div>
        <div class="field">
          <input type="text" class="input" name="s_title" value="" />
        </div>
      </div>
      <div class="form-group">
        <div class="label">
          <label>内容关键字：</label>
        </div>
        <div class="field">
          <input type="text" class="input" name="s_keywords" value=""/>
        </div>
      </div>
      <div class="form-group">
        <div class="label">
          <label>关键字描述：</label>
        </div>
        <div class="field">
          <textarea type="text" class="input" name="s_desc" style="height:80px;"></textarea>
        </div>
      </div>-->
      <!--<div class="form-group">
        <div class="label">
          <label>排序：</label>
        </div>
        <div class="field">
          <input type="text" class="input w50" name="sort" value="0"  data-validate="number:排序必须为数字" />
          <div class="tips"></div>
        </div>
      </div>
      <div class="form-group">
        <div class="label">
          <label>发布时间：</label>
        </div>
        <div class="field"> 
          <script src="js/laydate/laydate.js"></script>
          <input type="text" class="laydate-icon input w50" name="datetime" onclick="laydate({istime: true, format: 'YYYY-MM-DD hh:mm:ss'})" value=""  data-validate="required:日期不能为空" style="padding:10px!important; height:auto!important;border:1px solid #ddd!important;" />
          <div class="tips"></div>
        </div>
      </div>
      <div class="form-group">
        <div class="label">
          <label>作者：</label>
        </div>
        <div class="field">
          <input type="text" class="input w50" name="authour" value=""  />
          <div class="tips"></div>
        </div>
      </div>
      <div class="form-group">
        <div class="label">
          <label>点击次数：</label>
        </div>
        <div class="field">
          <input type="text" class="input w50" name="views" value="" data-validate="member:只能为数字"  />
          <div class="tips"></div>
        </div>
      </div>-->
      <div class="form-group">
        <div class="label">
          <label></label>
        </div>
        <div class="field">
          <button class="button bg-main icon-check-square-o" type="submit"> 提交</button>
        </div>
      </div>
    </form>
  </div>
</div>
<script type="text/javascript">
//
$(function (){
  initDeptList();
  initTitlesList();
})

function  initDeptList(){
  $.ajax({
    type: "GET",
    url: "/second/all",
    //data:{"pageNum":pageNum,"deptId":deptId,"docName":docName,"jobNumber":jobNumber},
    dataType: "json",
    success: function (res) {//list<Dept>
      $.each(res, function (i, v) {
        var optionObj = $("<option value='" + v.department_id + "'>" + v.department_name + "</option>");
        optionObj.appendTo($("select[name='deptId']"));
      })
    }
  })
}

function  initTitlesList(){
  $.ajax({
    type: "GET",
    url: "/proTitles/all",
    //data:{"pageNum":pageNum,"deptId":deptId,"docName":docName,"jobNumber":jobNumber},
    dataType: "json",
    success: function (res) {//list<Title>
      $.each(res, function (i, v) {
        var optionObj = $("<option value='" + v.professionalTitleId + "'>" + v.titleName + "</option>");
        optionObj.appendTo($("select[name='proTitlesId']"));
      })
    }
  })
}

function timeNow(){
  //获取当前时间
  var d = new Date();
  //包装年月日的格式
  var a = d.getFullYear() + "-";
  //月是从零开始的所以得加1，并且判断月份是否大于等于10月，如果大于十月得个前面加零来跟格式匹配
  if (d.getMonth() + 1 >= 10 ){
  var c = (d.getMonth() + 1) + "-";
}
  else{
  var c = "0" + (d.getMonth() + 1) + '-';
}
  //不能使用getDay()方法得原因是因为他获取的是今天星期几，只有7天
  if (d.getDate() >= 10 ){
  var n = d.getDate();
}
  else{
  var n = "0" + d.getDate();
}
  //给input设置id属性，抓取属性值改变value的值
  document.getElementById("time").value = a + c + n;
}

</script>
</body>
</html>
